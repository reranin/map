# ๐ ุชุบุฑุงุช ุงูุฌุงู ุดุฏู ุฏุฑ ูพุฑูฺู

## ๐ ุขุฎุฑู ุชุบุฑุงุช (ุฑูุน ูุดฺฉู ุฑุณู ูุณุฑ)

### ๐ฃ๏ธ ุงุณุชูุงุฏู ุงุฒ Neshan Direction API ุจุฑุง ููุงุด ูุณุฑ ูุงูุน

**ูุดฺฉู ูุจู:** ูุณุฑ ุจู ุตูุฑุช ุฎุทูุท ูุณุชูู ุจู ููุงุท ุฑุณู ูโุดุฏ.

**ุฑุงูโุญู:** ูพุงุฏูโุณุงุฒ Direction API ูุดุงู ุจุฑุง ุฏุฑุงูุช ูุณุฑ ูุงูุน ุฌุงุฏูโุง.

#### ุชุบุฑุงุช Frontend:
- ุชุงุจุน `drawRoute()` ุจู `async` ุชุจุฏู ุดุฏ
- ุจุฑุง ูุฑ ุฏู ููุทู ูุชูุงูุ ูุณุฑ ูุงูุน ุงุฒ ุณุฑูุฑ ุฏุฑุฎูุงุณุช ูโุดูุฏ
- polyline ูุงูุน ุฌุงุฏูโุง ุฑู ููุดู ุฑุณู ูโุดูุฏ
- ุฏุฑ ุตูุฑุช ุฎุทุงุ ุฎุท ูุณุชูู ฺูโุฏุงุฑ ุจู ุนููุงู fallback ุฑุณู ูโุดูุฏ

#### ุชุบุฑุงุช Backend:
- โ **API ุฌุฏุฏ `/api/get-route`**: ุฏุฑุงูุช ูุณุฑ ุจู ุฏู ููุทู
- โ **ุชุงุจุน `decodePolyline()`**: decode ฺฉุฑุฏู polyline ุงุฒ ูุฑูุช Google
- โ **ุงุณุชูุงุฏู ุงุฒ Neshan Direction API**: `https://api.neshan.org/v1/direction`

#### ููุงุด ุจูุชุฑ ูุงุฑฺฉุฑูุง:
- ูุงุฑฺฉุฑูุง ุจุง ุดูุงุฑูโูุง ุฏุงุฑูโุง ุฑูฺฏ ููุงุด ุฏุงุฏู ูโุดููุฏ
- ุชุฑุชุจ ุชูููโฺฏุงูโูุง ุจู ุตูุฑุช ูุงุถุญ ูุดุฎุต ุงุณุช
- popup ุงุทูุงุนุงุช ุจุฑุง ูุฑ ูุงุฑฺฉุฑ

## โ ุชุบุฑุงุช ุงุตู

### 1. ุจูโุฑูุฒุฑุณุงู Neshan Web SDK ุจู ูุณุฎู ุฑุณู

**ูุจู:**
```html
<!-- ุงุณุชูุงุฏู ุงุฒ ฺูุฏู ููุจุน ูุฎุชูู ู fallback -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
<!-- + ุชูุงุด ุจุฑุง ููุฏ ุงุฒ ููุงุจุน ูุฎุชูู -->
```

**ุจุนุฏ:**
```html
<!-- ุงุณุชูุงุฏู ุงุฒ SDK ุฑุณู ูุดุงู -->
<link rel="stylesheet" href="https://static.neshan.org/sdk/leaflet/v1.9.4/neshan-sdk/v1.0.8/index.css"/>
<script src="https://static.neshan.org/sdk/leaflet/v1.9.4/neshan-sdk/v1.0.8/index.js"></script>
```

### 2. ุณุงุฏูโุณุงุฒ ฺฉุฏ ุงุฌุงุฏ ููุดู

**ูุจู:**
```javascript
// ุชูุงุด ุจุฑุง Neshan ู fallback ุจู OpenStreetMap
try {
  map = new L.Map("map", {
    key: NESHAN_API_KEY,
    maptype: "neshan",
    ...
  });
} catch (neshanError) {
  // Fallback to OpenStreetMap
  map = L.map("map").setView([35.7219, 51.3347], 12);
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", ...).addTo(map);
}
```

**ุจุนุฏ:**
```javascript
// ูุณุชููุงู ุงุฒ SDK ุฑุณู ูุดุงู ุงุณุชูุงุฏู ูโฺฉูุฏ
map = new L.Map("map", {
  key: NESHAN_API_KEY,
  maptype: "neshan",
  poi: true,
  traffic: false,
  center: [35.699756, 51.338076],
  zoom: 14,
});
```

### 3. ูุงูโูุง ุฌุฏุฏ ุงุถุงูู ุดุฏู

- โ `test-simple.html` - ุตูุญู ุชุณุช ุณุงุฏู SDK ูุดุงู
- โ `setup.sh` - ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ ุจุฑุง ูููฺฉุณ/ูฺฉ
- โ `setup.bat` - ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ ุจุฑุง ููุฏูุฒ
- โ `INSTALL.md` - ุฑุงูููุง ูุตุจ ฺฉุงูู
- โ `CHANGES.md` - ุงู ูุงู

### 4. ุจูุจูุฏ ูุณุชูุฏุงุช

- โ ุจูโุฑูุฒุฑุณุงู `readme.md` ุจุง ุฏุณุชูุฑุงูุนููโูุง ุฌุฏุฏ
- โ ุงุถุงูู ฺฉุฑุฏู ุจุฎุด ุชุณุช ููุดู ูุดุงู
- โ ุงุถุงูู ฺฉุฑุฏู ุฑุงูููุง ูุตุจ ุฎูุฏฺฉุงุฑ

## ๐ฏ ูฺฺฏโูุง ุฌุฏุฏ

### ุตูุญู ุชุณุช ุณุงุฏู (`/test-simple`)

ุงู ุตูุญู ุดุงูู:
- ููุงุด ููุดู ูุดุงู
- ุงูฺฉุงู ุชุบุฑ ุงุณุชุงูโูุง ูุฎุชูู ููุดู (Dreamy, Dreamy Gold, Neshan, Standard Day, Standard Night, OSM Bright)
- ุงูุฒูุฏู ูุงุฑฺฉุฑ ุจุง ฺฉูฺฉ ุฑู ููุดู
- ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุงุฏู ู ุชูุฒ

## ๐ง ุชูุธูุงุช

### ูุงู .env

ูุงู `.env` ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุชูุณุท ุงุณฺฉุฑูพุชโูุง setup ุณุงุฎุชู ูโุดูุฏ ู ุดุงูู:

```env
NESHAN_API_KEY=web.89a6be71092e4dc1925b0f47e926e894
PORT=3000
NESHAN_BASE_URL=https://api.neshan.org/v1
```

## ๐ ูุณุชูุฏุงุช ูุฑุฌุน

- [ูุณุชูุฏุงุช ุฑุณู Neshan Web SDK](https://platform.neshan.org/sdk/web-sdk-getting-started/)
- [API ูุง ูุดุงู](https://platform.neshan.org)

## ๐ ูุญูู ุงุณุชูุงุฏู

### ุฑุงูโุงูุฏุงุฒ ุณุฑุน

```bash
# ูููฺฉุณ/ูฺฉ
./setup.sh

# ููุฏูุฒ
setup.bat
```

### ุงุฌุฑุง ูพุฑูฺู

```bash
npm run dev    # ุญุงูุช development
npm start      # ุญุงูุช production
```

### ุขุฏุฑุณโูุง ููู

- ุงูพูฺฉุดู ุงุตู: http://localhost:3000
- ุชุณุช ุณุงุฏู: http://localhost:3000/test-simple
- ุชุณุช ฺฉุงูู: http://localhost:3000/test-neshan

## โจ ุจูุจูุฏูุง ูุณุจุช ุจู ูุณุฎู ูุจู

1. **ูพุงุฏุงุฑ ุจุดุชุฑ**: ุงุณุชูุงุฏู ุงุฒ SDK ุฑุณู ูุดุงู ุจู ุฌุง fallback
2. **ฺฉุฏ ุชูุฒุชุฑ**: ุญุฐู ฺฉุฏูุง ุฒุงุฆุฏ ู fallback
3. **ูุตุจ ุขุณุงูโุชุฑ**: ุงุณฺฉุฑูพุชโูุง ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ
4. **ูุณุชูุฏุงุช ุจูุชุฑ**: ุฑุงูููุงูุง ฺฉุงูู ูุตุจ ู ุงุณุชูุงุฏู
5. **ุชุณุช ุขุณุงูโุชุฑ**: ุตูุญู ุชุณุช ุณุงุฏู ุจุฑุง ุจุฑุฑุณ SDK

## ๐ ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎู ูุจู

ููู ูุงุจูุชโูุง ูุณุฎู ูุจู ุญูุธ ุดุฏูโุงูุฏ:
- โ ุงุถุงูู ฺฉุฑุฏู ููฺฉุดู
- โ ุจูููโุณุงุฒ ูุณุฑ ุจุง TSP
- โ Geocoding ู Reverse Geocoding
- โ ุฏุฑุงูุช ูููุนุช ูุนู ฺฉุงุฑุจุฑ
- โ ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงุฑุณ

